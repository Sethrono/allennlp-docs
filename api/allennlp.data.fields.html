

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>allennlp.data.fields &mdash; AllenNLP 0.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="AllenNLP 0.0 documentation" href="../index.html"/>
        <link rel="up" title="allennlp.data" href="allennlp.data.html"/>
        <link rel="next" title="allennlp.data.instance" href="allennlp.data.instance.html"/>
        <link rel="prev" title="allennlp.data.dataset_readers.snli" href="allennlp.data.dataset_readers.snli.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/allennlp-logo-dark.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Package Reference</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="allennlp.commands.html">allennlp.commands</a><ul>
<li class="toctree-l2"><a class="reference internal" href="allennlp.commands.subcommand.html">allennlp.commands.subcommand</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.commands.evaluate.html">allennlp.commands.evaluate</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.commands.predict.html">allennlp.commands.predict</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.commands.serve.html">allennlp.commands.serve</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.commands.train.html">allennlp.commands.train</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="allennlp.common.html">allennlp.common</a><ul>
<li class="toctree-l2"><a class="reference internal" href="allennlp.common.checks.html">allennlp.common.checks</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.common.file_utils.html">allennlp.common.file_utils</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.common.params.html">allennlp.common.params</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.common.registrable.html">allennlp.common.registrable</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.common.squad_eval.html">allennlp.common.squad_eval</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.common.tee_logger.html">allennlp.common.tee_logger</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.common.testing.html">allennlp.common.testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.common.util.html">allennlp.common.util</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="allennlp.data.html">allennlp.data</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="allennlp.data.dataset.html">allennlp.data.dataset</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.data.dataset_readers.html">allennlp.data.dataset_readers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.dataset_reader.html">allennlp.data.dataset_readers.dataset_reader</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.conll2003.html">allennlp.data.dataset_readers.conll2003</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.language_modeling.html">allennlp.data.dataset_readers.language_modeling</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.reading_comprehension.html">allennlp.data.dataset_readers.reading_comprehension</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.coreference_resolution.html">allennlp.data.dataset_readers.coreference_resolution</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.semantic_role_labeling.html">allennlp.data.dataset_readers.semantic_role_labeling</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.seq2seq.html">allennlp.data.dataset_readers.seq2seq</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.sequence_tagging.html">allennlp.data.dataset_readers.sequence_tagging</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.snli.html">allennlp.data.dataset_readers.snli</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">allennlp.data.fields</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.data.instance.html">allennlp.data.instance</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.data.iterators.html">allennlp.data.iterators</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.data.token_indexers.html">allennlp.data.token_indexers</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.data.tokenizers.html">allennlp.data.tokenizers</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.data.vocabulary.html">allennlp.data.vocabulary</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="allennlp.models.html">allennlp.models</a><ul>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.model.html">allennlp.models.model</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.archival.html">allennlp.models.archival</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.crf_tagger.html">allennlp.models.crf_tagger</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.decomposable_attention.html">allennlp.models.decomposable_attention</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.encoder_decoders.html">allennlp.models.encoder_decoders</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.reading_comprehension.html">allennlp.models.reading_comprehension</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.coreference_resolution.html">allennlp.models.coreference_resolution</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.semantic_role_labeler.html">allennlp.models.semantic_role_labeler</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.simple_tagger.html">allennlp.models.simple_tagger</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="allennlp.modules.html">allennlp.modules</a><ul>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.attention.html">allennlp.modules.attention</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.augmented_lstm.html">allennlp.modules.augmented_lstm</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.conditional_random_field.html">allennlp.modules.conditional_random_field</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.feedforward.html">allennlp.modules.feedforward</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.highway.html">allennlp.modules.highway</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.matrix_attention.html">allennlp.modules.matrix_attention</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.seq2seq_encoders.html">allennlp.modules.seq2seq_encoders</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.seq2vec_encoders.html">allennlp.modules.seq2vec_encoders</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.similarity_functions.html">allennlp.modules.similarity_functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.stacked_alternating_lstm.html">allennlp.modules.stacked_alternating_lstm</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.text_field_embedders.html">allennlp.modules.text_field_embedders</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.time_distributed.html">allennlp.modules.time_distributed</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.token_embedders.html">allennlp.modules.token_embedders</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="allennlp.nn.html">allennlp.nn</a><ul>
<li class="toctree-l2"><a class="reference internal" href="allennlp.nn.activations.html">allennlp.nn.activations</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.nn.initializers.html">allennlp.nn.initializers</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.nn.regularizers.html">allennlp.nn.regularizers</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.nn.util.html">allennlp.nn.util</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="allennlp.service.html">allennlp.service</a><ul>
<li class="toctree-l2"><a class="reference internal" href="allennlp.service.db.html">allennlp.service.db</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.service.permalinks.html">allennlp.service.permalinks</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.service.predictors.html">allennlp.service.predictors</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.service.server_sanic.html">allennlp.service.server_sanic</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="allennlp.training.html">allennlp.training</a><ul>
<li class="toctree-l2"><a class="reference internal" href="allennlp.training.learning_rate_schedulers.html">allennlp.training.learning_rate_schedulers</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.training.metrics.html">allennlp.training.metrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.training.optimizers.html">allennlp.training.optimizers</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.training.trainer.html">allennlp.training.trainer</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">AllenNLP</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="allennlp.data.html">allennlp.data</a> &raquo;</li>
        
      <li>allennlp.data.fields</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/api/allennlp.data.fields.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-allennlp.data.fields">
<span id="allennlp-data-fields"></span><h1>allennlp.data.fields<a class="headerlink" href="#module-allennlp.data.fields" title="Permalink to this headline">¶</a></h1>
<p>A <a class="reference internal" href="#allennlp.data.fields.field.Field" title="allennlp.data.fields.field.Field"><code class="xref py py-class docutils literal"><span class="pre">Field</span></code></a> is some piece of data instance
that ends up as an array in a model.</p>
<ul class="simple">
<li><a class="reference internal" href="#field"><span class="std std-ref">Field</span></a></li>
<li><a class="reference internal" href="#index-field"><span class="std std-ref">IndexField</span></a></li>
<li><a class="reference internal" href="#label-field"><span class="std std-ref">LabelField</span></a></li>
<li><a class="reference internal" href="#list-field"><span class="std std-ref">ListField</span></a></li>
<li><a class="reference internal" href="#metadata-field"><span class="std std-ref">MetadataField</span></a></li>
<li><a class="reference internal" href="#sequence-field"><span class="std std-ref">SequenceField</span></a></li>
<li><a class="reference internal" href="#sequence-label-field"><span class="std std-ref">SequenceLabelField</span></a></li>
<li><a class="reference internal" href="#text-field"><span class="std std-ref">TextField</span></a></li>
</ul>
<span class="target" id="module-allennlp.data.fields.field"><span id="field"></span></span><dl class="class">
<dt id="allennlp.data.fields.field.Field">
<em class="property">class </em><code class="descclassname">allennlp.data.fields.field.</code><code class="descname">Field</code><a class="reference external" href="http://github.com/allenai/allennlp/blob/master/allennlp/data/fields/field.py#L11-L113"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.data.fields.field.Field" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">typing.Generic</span></code></p>
<p>A <code class="docutils literal"><span class="pre">Field</span></code> is some piece of a data instance that ends up as an array in a model (either as an
input or an output).  Data instances are just collections of fields.</p>
<p>Fields go through up to two steps of processing: (1) tokenized fields are converted into token
ids, (2) fields containing token ids (or any other numeric data) are padded (if necessary) and
converted into data arrays.  The <code class="docutils literal"><span class="pre">Field</span></code> API has methods around both of these steps,
though they may not be needed for some concrete <code class="docutils literal"><span class="pre">Field</span></code> classes - if your field doesn&#8217;t have
any strings that need indexing, you don&#8217;t need to implement <code class="docutils literal"><span class="pre">count_vocab_items</span></code> or <code class="docutils literal"><span class="pre">index</span></code>.
These methods <code class="docutils literal"><span class="pre">pass</span></code> by default.</p>
<p>Once a vocabulary is computed and all fields are indexed, we will determine padding lengths,
then intelligently batch together instances and pad them into actual arrays.</p>
<dl class="method">
<dt id="allennlp.data.fields.field.Field.as_array">
<code class="descname">as_array</code><span class="sig-paren">(</span><em>padding_lengths: typing.Dict[str, int]</em><span class="sig-paren">)</span> &#x2192; DataArray<a class="reference external" href="http://github.com/allenai/allennlp/blob/master/allennlp/data/fields/field.py#L72-L79"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.data.fields.field.Field.as_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a set of specified padding lengths, actually pad the data in this field and return a
numpy array of the correct shape.  This actually returns a list instead of a single array,
in case there are several related arrays for this field (e.g., a <code class="docutils literal"><span class="pre">TextField</span></code> might have a
word array and a characters-per-word array).</p>
</dd></dl>

<dl class="classmethod">
<dt id="allennlp.data.fields.field.Field.batch_arrays">
<em class="property">classmethod </em><code class="descname">batch_arrays</code><span class="sig-paren">(</span><em>array_list: typing.List[DataArray]</em><span class="sig-paren">)</span> &#x2192; DataArray<a class="reference external" href="http://github.com/allenai/allennlp/blob/master/allennlp/data/fields/field.py#L94-L113"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.data.fields.field.Field.batch_arrays" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes the output of <code class="docutils literal"><span class="pre">Field.as_array()</span></code> from a list of <code class="docutils literal"><span class="pre">Instances</span></code> and merges it into
one batched array for this <code class="docutils literal"><span class="pre">Field</span></code>.  The default implementation here in the base class
handles cases where <code class="docutils literal"><span class="pre">as_array</span></code> returns a single numpy array per instance, or a dictionary
of single arrays.  If your subclass returns something other than this, you need to
override this method.</p>
</dd></dl>

<dl class="method">
<dt id="allennlp.data.fields.field.Field.count_vocab_items">
<code class="descname">count_vocab_items</code><span class="sig-paren">(</span><em>counter: typing.Dict[str, typing.Dict[str, int]]</em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/allenai/allennlp/blob/master/allennlp/data/fields/field.py#L26-L49"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.data.fields.field.Field.count_vocab_items" title="Permalink to this definition">¶</a></dt>
<dd><p>If there are strings in this field that need to be converted into integers through a
<code class="xref py py-class docutils literal"><span class="pre">Vocabulary</span></code>, here is where we count them, to determine which tokens are in or out
of the vocabulary.</p>
<p>If your <code class="docutils literal"><span class="pre">Field</span></code> does not have any strings that need to be converted into indices, you do
not need to implement this method.</p>
<p>A note on this <code class="docutils literal"><span class="pre">counter</span></code>: because <code class="docutils literal"><span class="pre">Fields</span></code> can represent conceptually different things,
we separate the vocabulary items by <cite>namespaces</cite>.  This way, we can use a single shared
mechanism to handle all mappings from strings to integers in all fields, while keeping
words in a <code class="docutils literal"><span class="pre">TextField</span></code> from sharing the same ids with labels in a <code class="docutils literal"><span class="pre">LabelField</span></code> (e.g.,
&#8220;entailment&#8221; or &#8220;contradiction&#8221; are labels in an entailment task)</p>
<p>Additionally, a single <code class="docutils literal"><span class="pre">Field</span></code> might want to use multiple namespaces - <code class="docutils literal"><span class="pre">TextFields</span></code> can
be represented as a combination of word ids and character ids, and you don&#8217;t want words and
characters to share the same vocabulary - &#8220;a&#8221; as a word should get a different id from &#8220;a&#8221;
as a character, and the vocabulary sizes of words and characters are very different.</p>
<p>Because of this, the first key in the <code class="docutils literal"><span class="pre">counter</span></code> object is a <cite>namespace</cite>, like &#8220;tokens&#8221;,
&#8220;token_characters&#8221;, &#8220;tags&#8221;, or &#8220;labels&#8221;, and the second key is the actual vocabulary item.</p>
</dd></dl>

<dl class="method">
<dt id="allennlp.data.fields.field.Field.empty_field">
<code class="descname">empty_field</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; allennlp.data.fields.field.Field<a class="reference external" href="http://github.com/allenai/allennlp/blob/master/allennlp/data/fields/field.py#L81-L92"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.data.fields.field.Field.empty_field" title="Permalink to this definition">¶</a></dt>
<dd><p>So that <code class="docutils literal"><span class="pre">ListField</span></code> can pad the number of fields in a list (e.g., the number of answer
option <code class="docutils literal"><span class="pre">TextFields</span></code>), we need a representation of an empty field of each type.  This
returns that.  This will only ever be called when we&#8217;re to the point of calling
<a class="reference internal" href="#allennlp.data.fields.field.Field.as_array" title="allennlp.data.fields.field.Field.as_array"><code class="xref py py-func docutils literal"><span class="pre">as_array()</span></code></a>, so you don&#8217;t need to worry about <code class="docutils literal"><span class="pre">get_padding_lengths</span></code>,
<code class="docutils literal"><span class="pre">count_vocab_items</span></code>, etc., being called on this empty field.</p>
<p>We make this an instance method instead of a static method so that if there is any state
in the Field, we can copy it over (e.g., the token indexers in <code class="docutils literal"><span class="pre">TextField</span></code>).</p>
</dd></dl>

<dl class="method">
<dt id="allennlp.data.fields.field.Field.get_padding_lengths">
<code class="descname">get_padding_lengths</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; typing.Dict[str, int]<a class="reference external" href="http://github.com/allenai/allennlp/blob/master/allennlp/data/fields/field.py#L61-L70"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.data.fields.field.Field.get_padding_lengths" title="Permalink to this definition">¶</a></dt>
<dd><p>If there are things in this field that need padding, note them here.  In order to pad a
batch of instance, we get all of the lengths from the batch, take the max, and pad
everything to that length (or use a pre-specified maximum length).  The return value is a
dictionary mapping keys to lengths, like {&#8216;num_tokens&#8217;: 13}.</p>
<p>This is always called after <a class="reference internal" href="#allennlp.data.fields.field.Field.index" title="allennlp.data.fields.field.Field.index"><code class="xref py py-func docutils literal"><span class="pre">index()</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="allennlp.data.fields.field.Field.index">
<code class="descname">index</code><span class="sig-paren">(</span><em>vocab: allennlp.data.vocabulary.Vocabulary</em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/allenai/allennlp/blob/master/allennlp/data/fields/field.py#L51-L59"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.data.fields.field.Field.index" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a <code class="xref py py-class docutils literal"><span class="pre">Vocabulary</span></code>, converts all strings in this field into (typically) integers.
This <cite>modifies</cite> the <code class="docutils literal"><span class="pre">Field</span></code> object, it does not return anything.</p>
<p>If your <code class="docutils literal"><span class="pre">Field</span></code> does not have any strings that need to be converted into indices, you do
not need to implement this method.</p>
</dd></dl>

</dd></dl>

<span class="target" id="module-allennlp.data.fields.index_field"><span id="index-field"></span></span><dl class="class">
<dt id="allennlp.data.fields.index_field.IndexField">
<em class="property">class </em><code class="descclassname">allennlp.data.fields.index_field.</code><code class="descname">IndexField</code><span class="sig-paren">(</span><em>index: int</em>, <em>sequence_field: allennlp.data.fields.sequence_field.SequenceField</em><span class="sig-paren">)</span> &#x2192; None<a class="reference external" href="http://github.com/allenai/allennlp/blob/master/allennlp/data/fields/index_field.py#L12-L48"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.data.fields.index_field.IndexField" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#allennlp.data.fields.field.Field" title="allennlp.data.fields.field.Field"><code class="xref py py-class docutils literal"><span class="pre">allennlp.data.fields.field.Field</span></code></a></p>
<p>An <code class="docutils literal"><span class="pre">IndexField</span></code> is an index into a
<a class="reference internal" href="#allennlp.data.fields.sequence_field.SequenceField" title="allennlp.data.fields.sequence_field.SequenceField"><code class="xref py py-class docutils literal"><span class="pre">SequenceField</span></code></a>, as might be used for representing
a correct answer option in a list, or a span begin and span end position in a passage, for
example.  Because it&#8217;s an index into a <code class="xref py py-class docutils literal"><span class="pre">SequenceField</span></code>, we take one of those as input
and use it to compute padding lengths.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>index</strong> : <code class="docutils literal"><span class="pre">int</span></code></p>
<blockquote>
<div><p>The index of the answer in the <code class="xref py py-class docutils literal"><span class="pre">SequenceField</span></code>.  This is typically the &#8220;correct
answer&#8221; in some classification decision over the sequence, like where an answer span starts
in SQuAD, or which answer option is correct in a multiple choice question.  A value of
<code class="docutils literal"><span class="pre">-1</span></code> means there is no label, which can be used for padding or other purposes.</p>
</div></blockquote>
<p><strong>sequence_field</strong> : <code class="docutils literal"><span class="pre">SequenceField</span></code></p>
<blockquote class="last">
<div><p>A field containing the sequence that this <code class="docutils literal"><span class="pre">IndexField</span></code> is a pointer into.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="allennlp.data.fields.index_field.IndexField.as_array">
<code class="descname">as_array</code><span class="sig-paren">(</span><em>padding_lengths: typing.Dict[str, int]</em><span class="sig-paren">)</span> &#x2192; &lt;built-in function array&gt;<a class="reference external" href="http://github.com/allenai/allennlp/blob/master/allennlp/data/fields/index_field.py#L42-L44"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.data.fields.index_field.IndexField.as_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a set of specified padding lengths, actually pad the data in this field and return a
numpy array of the correct shape.  This actually returns a list instead of a single array,
in case there are several related arrays for this field (e.g., a <code class="docutils literal"><span class="pre">TextField</span></code> might have a
word array and a characters-per-word array).</p>
</dd></dl>

<dl class="method">
<dt id="allennlp.data.fields.index_field.IndexField.empty_field">
<code class="descname">empty_field</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="http://github.com/allenai/allennlp/blob/master/allennlp/data/fields/index_field.py#L46-L48"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.data.fields.index_field.IndexField.empty_field" title="Permalink to this definition">¶</a></dt>
<dd><p>So that <code class="docutils literal"><span class="pre">ListField</span></code> can pad the number of fields in a list (e.g., the number of answer
option <code class="docutils literal"><span class="pre">TextFields</span></code>), we need a representation of an empty field of each type.  This
returns that.  This will only ever be called when we&#8217;re to the point of calling
<a class="reference internal" href="#allennlp.data.fields.index_field.IndexField.as_array" title="allennlp.data.fields.index_field.IndexField.as_array"><code class="xref py py-func docutils literal"><span class="pre">as_array()</span></code></a>, so you don&#8217;t need to worry about <code class="docutils literal"><span class="pre">get_padding_lengths</span></code>,
<code class="docutils literal"><span class="pre">count_vocab_items</span></code>, etc., being called on this empty field.</p>
<p>We make this an instance method instead of a static method so that if there is any state
in the Field, we can copy it over (e.g., the token indexers in <code class="docutils literal"><span class="pre">TextField</span></code>).</p>
</dd></dl>

<dl class="method">
<dt id="allennlp.data.fields.index_field.IndexField.get_padding_lengths">
<code class="descname">get_padding_lengths</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; typing.Dict[str, int]<a class="reference external" href="http://github.com/allenai/allennlp/blob/master/allennlp/data/fields/index_field.py#L38-L40"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.data.fields.index_field.IndexField.get_padding_lengths" title="Permalink to this definition">¶</a></dt>
<dd><p>If there are things in this field that need padding, note them here.  In order to pad a
batch of instance, we get all of the lengths from the batch, take the max, and pad
everything to that length (or use a pre-specified maximum length).  The return value is a
dictionary mapping keys to lengths, like {&#8216;num_tokens&#8217;: 13}.</p>
<p>This is always called after <code class="xref py py-func docutils literal"><span class="pre">index()</span></code>.</p>
</dd></dl>

</dd></dl>

<span class="target" id="module-allennlp.data.fields.label_field"><span id="label-field"></span></span><dl class="class">
<dt id="allennlp.data.fields.label_field.LabelField">
<em class="property">class </em><code class="descclassname">allennlp.data.fields.label_field.</code><code class="descname">LabelField</code><span class="sig-paren">(</span><em>label: typing.Union[str, int], label_namespace: str = 'labels', skip_indexing: bool = False</em><span class="sig-paren">)</span> &#x2192; None<a class="reference external" href="http://github.com/allenai/allennlp/blob/master/allennlp/data/fields/label_field.py#L14-L95"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.data.fields.label_field.LabelField" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#allennlp.data.fields.field.Field" title="allennlp.data.fields.field.Field"><code class="xref py py-class docutils literal"><span class="pre">allennlp.data.fields.field.Field</span></code></a></p>
<p>A <code class="docutils literal"><span class="pre">LabelField</span></code> is a categorical label of some kind, where the labels are either strings of
text or 0-indexed integers (if you wish to skip indexing by passing skip_indexing=True).
If the labels need indexing, we will use a <code class="xref py py-class docutils literal"><span class="pre">Vocabulary</span></code> to convert the string labels
into integers.</p>
<p>This field will get converted into an integer index representing the class label.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>label</strong> : <code class="docutils literal"><span class="pre">Union[str,</span> <span class="pre">int]</span></code></p>
<p><strong>label_namespace</strong> : <code class="docutils literal"><span class="pre">str</span></code>, optional (default=&#8221;labels&#8221;)</p>
<blockquote>
<div><p>The namespace to use for converting label strings into integers.  We map label strings to
integers for you (e.g., &#8220;entailment&#8221; and &#8220;contradiction&#8221; get converted to 0, 1, ...),
and this namespace tells the <code class="docutils literal"><span class="pre">Vocabulary</span></code> object which mapping from strings to integers
to use (so &#8220;entailment&#8221; as a label doesn&#8217;t get the same integer id as &#8220;entailment&#8221; as a
word).  If you have multiple different label fields in your data, you should make sure you
use different namespaces for each one, always using the suffix &#8220;labels&#8221; (e.g.,
&#8220;passage_labels&#8221; and &#8220;question_labels&#8221;).</p>
</div></blockquote>
<p><strong>skip_indexing</strong> : <code class="docutils literal"><span class="pre">bool</span></code>, optional (default=False)</p>
<blockquote class="last">
<div><p>If your labels are 0-indexed integers, you can pass in this flag, and we&#8217;ll skip the indexing
step.  If this is <code class="docutils literal"><span class="pre">False</span></code> and your labels are not strings, this throws a <code class="docutils literal"><span class="pre">ConfigurationError</span></code>.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="allennlp.data.fields.label_field.LabelField.as_array">
<code class="descname">as_array</code><span class="sig-paren">(</span><em>padding_lengths: typing.Dict[str, int]</em><span class="sig-paren">)</span> &#x2192; numpy.ndarray<a class="reference external" href="http://github.com/allenai/allennlp/blob/master/allennlp/data/fields/label_field.py#L89-L91"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.data.fields.label_field.LabelField.as_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a set of specified padding lengths, actually pad the data in this field and return a
numpy array of the correct shape.  This actually returns a list instead of a single array,
in case there are several related arrays for this field (e.g., a <code class="docutils literal"><span class="pre">TextField</span></code> might have a
word array and a characters-per-word array).</p>
</dd></dl>

<dl class="method">
<dt id="allennlp.data.fields.label_field.LabelField.count_vocab_items">
<code class="descname">count_vocab_items</code><span class="sig-paren">(</span><em>counter: typing.Dict[str, typing.Dict[str, int]]</em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/allenai/allennlp/blob/master/allennlp/data/fields/label_field.py#L75-L78"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.data.fields.label_field.LabelField.count_vocab_items" title="Permalink to this definition">¶</a></dt>
<dd><p>If there are strings in this field that need to be converted into integers through a
<code class="xref py py-class docutils literal"><span class="pre">Vocabulary</span></code>, here is where we count them, to determine which tokens are in or out
of the vocabulary.</p>
<p>If your <code class="docutils literal"><span class="pre">Field</span></code> does not have any strings that need to be converted into indices, you do
not need to implement this method.</p>
<p>A note on this <code class="docutils literal"><span class="pre">counter</span></code>: because <code class="docutils literal"><span class="pre">Fields</span></code> can represent conceptually different things,
we separate the vocabulary items by <cite>namespaces</cite>.  This way, we can use a single shared
mechanism to handle all mappings from strings to integers in all fields, while keeping
words in a <code class="docutils literal"><span class="pre">TextField</span></code> from sharing the same ids with labels in a <code class="docutils literal"><span class="pre">LabelField</span></code> (e.g.,
&#8220;entailment&#8221; or &#8220;contradiction&#8221; are labels in an entailment task)</p>
<p>Additionally, a single <code class="docutils literal"><span class="pre">Field</span></code> might want to use multiple namespaces - <code class="docutils literal"><span class="pre">TextFields</span></code> can
be represented as a combination of word ids and character ids, and you don&#8217;t want words and
characters to share the same vocabulary - &#8220;a&#8221; as a word should get a different id from &#8220;a&#8221;
as a character, and the vocabulary sizes of words and characters are very different.</p>
<p>Because of this, the first key in the <code class="docutils literal"><span class="pre">counter</span></code> object is a <cite>namespace</cite>, like &#8220;tokens&#8221;,
&#8220;token_characters&#8221;, &#8220;tags&#8221;, or &#8220;labels&#8221;, and the second key is the actual vocabulary item.</p>
</dd></dl>

<dl class="method">
<dt id="allennlp.data.fields.label_field.LabelField.empty_field">
<code class="descname">empty_field</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="http://github.com/allenai/allennlp/blob/master/allennlp/data/fields/label_field.py#L93-L95"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.data.fields.label_field.LabelField.empty_field" title="Permalink to this definition">¶</a></dt>
<dd><p>So that <code class="docutils literal"><span class="pre">ListField</span></code> can pad the number of fields in a list (e.g., the number of answer
option <code class="docutils literal"><span class="pre">TextFields</span></code>), we need a representation of an empty field of each type.  This
returns that.  This will only ever be called when we&#8217;re to the point of calling
<a class="reference internal" href="#allennlp.data.fields.label_field.LabelField.as_array" title="allennlp.data.fields.label_field.LabelField.as_array"><code class="xref py py-func docutils literal"><span class="pre">as_array()</span></code></a>, so you don&#8217;t need to worry about <code class="docutils literal"><span class="pre">get_padding_lengths</span></code>,
<code class="docutils literal"><span class="pre">count_vocab_items</span></code>, etc., being called on this empty field.</p>
<p>We make this an instance method instead of a static method so that if there is any state
in the Field, we can copy it over (e.g., the token indexers in <code class="docutils literal"><span class="pre">TextField</span></code>).</p>
</dd></dl>

<dl class="method">
<dt id="allennlp.data.fields.label_field.LabelField.get_padding_lengths">
<code class="descname">get_padding_lengths</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; typing.Dict[str, int]<a class="reference external" href="http://github.com/allenai/allennlp/blob/master/allennlp/data/fields/label_field.py#L85-L87"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.data.fields.label_field.LabelField.get_padding_lengths" title="Permalink to this definition">¶</a></dt>
<dd><p>If there are things in this field that need padding, note them here.  In order to pad a
batch of instance, we get all of the lengths from the batch, take the max, and pad
everything to that length (or use a pre-specified maximum length).  The return value is a
dictionary mapping keys to lengths, like {&#8216;num_tokens&#8217;: 13}.</p>
<p>This is always called after <a class="reference internal" href="#allennlp.data.fields.label_field.LabelField.index" title="allennlp.data.fields.label_field.LabelField.index"><code class="xref py py-func docutils literal"><span class="pre">index()</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="allennlp.data.fields.label_field.LabelField.index">
<code class="descname">index</code><span class="sig-paren">(</span><em>vocab: allennlp.data.vocabulary.Vocabulary</em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/allenai/allennlp/blob/master/allennlp/data/fields/label_field.py#L80-L83"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.data.fields.label_field.LabelField.index" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a <code class="xref py py-class docutils literal"><span class="pre">Vocabulary</span></code>, converts all strings in this field into (typically) integers.
This <cite>modifies</cite> the <code class="docutils literal"><span class="pre">Field</span></code> object, it does not return anything.</p>
<p>If your <code class="docutils literal"><span class="pre">Field</span></code> does not have any strings that need to be converted into indices, you do
not need to implement this method.</p>
</dd></dl>

</dd></dl>

<span class="target" id="module-allennlp.data.fields.list_field"><span id="list-field"></span></span><dl class="class">
<dt id="allennlp.data.fields.list_field.ListField">
<em class="property">class </em><code class="descclassname">allennlp.data.fields.list_field.</code><code class="descname">ListField</code><span class="sig-paren">(</span><em>field_list: typing.List[allennlp.data.fields.field.Field]</em><span class="sig-paren">)</span> &#x2192; None<a class="reference external" href="http://github.com/allenai/allennlp/blob/master/allennlp/data/fields/list_field.py#L13-L95"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.data.fields.list_field.ListField" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#allennlp.data.fields.sequence_field.SequenceField" title="allennlp.data.fields.sequence_field.SequenceField"><code class="xref py py-class docutils literal"><span class="pre">allennlp.data.fields.sequence_field.SequenceField</span></code></a></p>
<p>A <code class="docutils literal"><span class="pre">ListField</span></code> is a list of other fields.  You would use this to represent, e.g., a list of
answer options that are themselves <code class="docutils literal"><span class="pre">TextFields</span></code>.</p>
<p>This field will get converted into a tensor that has one more mode than the items in the list.
If this is a list of <code class="docutils literal"><span class="pre">TextFields</span></code> that have shape (num_words, num_characters), this
<code class="docutils literal"><span class="pre">ListField</span></code> will output a tensor of shape (num_sentences, num_words, num_characters).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>field_list</strong> : <code class="docutils literal"><span class="pre">List[Field]</span></code></p>
<blockquote class="last">
<div><p>A list of <code class="docutils literal"><span class="pre">Field</span></code> objects to be concatenated into a single input tensor.  All of the
contained <code class="docutils literal"><span class="pre">Field</span></code> objects must be of the same type.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="allennlp.data.fields.list_field.ListField.as_array">
<code class="descname">as_array</code><span class="sig-paren">(</span><em>padding_lengths: typing.Dict[str, int]</em><span class="sig-paren">)</span> &#x2192; DataArray<a class="reference external" href="http://github.com/allenai/allennlp/blob/master/allennlp/data/fields/list_field.py#L68-L84"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.data.fields.list_field.ListField.as_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a set of specified padding lengths, actually pad the data in this field and return a
numpy array of the correct shape.  This actually returns a list instead of a single array,
in case there are several related arrays for this field (e.g., a <code class="docutils literal"><span class="pre">TextField</span></code> might have a
word array and a characters-per-word array).</p>
</dd></dl>

<dl class="method">
<dt id="allennlp.data.fields.list_field.ListField.count_vocab_items">
<code class="descname">count_vocab_items</code><span class="sig-paren">(</span><em>counter: typing.Dict[str, typing.Dict[str, int]]</em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/allenai/allennlp/blob/master/allennlp/data/fields/list_field.py#L35-L38"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.data.fields.list_field.ListField.count_vocab_items" title="Permalink to this definition">¶</a></dt>
<dd><p>If there are strings in this field that need to be converted into integers through a
<code class="xref py py-class docutils literal"><span class="pre">Vocabulary</span></code>, here is where we count them, to determine which tokens are in or out
of the vocabulary.</p>
<p>If your <code class="docutils literal"><span class="pre">Field</span></code> does not have any strings that need to be converted into indices, you do
not need to implement this method.</p>
<p>A note on this <code class="docutils literal"><span class="pre">counter</span></code>: because <code class="docutils literal"><span class="pre">Fields</span></code> can represent conceptually different things,
we separate the vocabulary items by <cite>namespaces</cite>.  This way, we can use a single shared
mechanism to handle all mappings from strings to integers in all fields, while keeping
words in a <code class="docutils literal"><span class="pre">TextField</span></code> from sharing the same ids with labels in a <code class="docutils literal"><span class="pre">LabelField</span></code> (e.g.,
&#8220;entailment&#8221; or &#8220;contradiction&#8221; are labels in an entailment task)</p>
<p>Additionally, a single <code class="docutils literal"><span class="pre">Field</span></code> might want to use multiple namespaces - <code class="docutils literal"><span class="pre">TextFields</span></code> can
be represented as a combination of word ids and character ids, and you don&#8217;t want words and
characters to share the same vocabulary - &#8220;a&#8221; as a word should get a different id from &#8220;a&#8221;
as a character, and the vocabulary sizes of words and characters are very different.</p>
<p>Because of this, the first key in the <code class="docutils literal"><span class="pre">counter</span></code> object is a <cite>namespace</cite>, like &#8220;tokens&#8221;,
&#8220;token_characters&#8221;, &#8220;tags&#8221;, or &#8220;labels&#8221;, and the second key is the actual vocabulary item.</p>
</dd></dl>

<dl class="method">
<dt id="allennlp.data.fields.list_field.ListField.empty_field">
<code class="descname">empty_field</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="http://github.com/allenai/allennlp/blob/master/allennlp/data/fields/list_field.py#L86-L95"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.data.fields.list_field.ListField.empty_field" title="Permalink to this definition">¶</a></dt>
<dd><p>So that <code class="docutils literal"><span class="pre">ListField</span></code> can pad the number of fields in a list (e.g., the number of answer
option <code class="docutils literal"><span class="pre">TextFields</span></code>), we need a representation of an empty field of each type.  This
returns that.  This will only ever be called when we&#8217;re to the point of calling
<a class="reference internal" href="#allennlp.data.fields.list_field.ListField.as_array" title="allennlp.data.fields.list_field.ListField.as_array"><code class="xref py py-func docutils literal"><span class="pre">as_array()</span></code></a>, so you don&#8217;t need to worry about <code class="docutils literal"><span class="pre">get_padding_lengths</span></code>,
<code class="docutils literal"><span class="pre">count_vocab_items</span></code>, etc., being called on this empty field.</p>
<p>We make this an instance method instead of a static method so that if there is any state
in the Field, we can copy it over (e.g., the token indexers in <code class="docutils literal"><span class="pre">TextField</span></code>).</p>
</dd></dl>

<dl class="method">
<dt id="allennlp.data.fields.list_field.ListField.get_padding_lengths">
<code class="descname">get_padding_lengths</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; typing.Dict[str, int]<a class="reference external" href="http://github.com/allenai/allennlp/blob/master/allennlp/data/fields/list_field.py#L45-L62"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.data.fields.list_field.ListField.get_padding_lengths" title="Permalink to this definition">¶</a></dt>
<dd><p>If there are things in this field that need padding, note them here.  In order to pad a
batch of instance, we get all of the lengths from the batch, take the max, and pad
everything to that length (or use a pre-specified maximum length).  The return value is a
dictionary mapping keys to lengths, like {&#8216;num_tokens&#8217;: 13}.</p>
<p>This is always called after <a class="reference internal" href="#allennlp.data.fields.list_field.ListField.index" title="allennlp.data.fields.list_field.ListField.index"><code class="xref py py-func docutils literal"><span class="pre">index()</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="allennlp.data.fields.list_field.ListField.index">
<code class="descname">index</code><span class="sig-paren">(</span><em>vocab: allennlp.data.vocabulary.Vocabulary</em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/allenai/allennlp/blob/master/allennlp/data/fields/list_field.py#L40-L43"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.data.fields.list_field.ListField.index" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a <code class="xref py py-class docutils literal"><span class="pre">Vocabulary</span></code>, converts all strings in this field into (typically) integers.
This <cite>modifies</cite> the <code class="docutils literal"><span class="pre">Field</span></code> object, it does not return anything.</p>
<p>If your <code class="docutils literal"><span class="pre">Field</span></code> does not have any strings that need to be converted into indices, you do
not need to implement this method.</p>
</dd></dl>

<dl class="method">
<dt id="allennlp.data.fields.list_field.ListField.sequence_length">
<code class="descname">sequence_length</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; int<a class="reference external" href="http://github.com/allenai/allennlp/blob/master/allennlp/data/fields/list_field.py#L64-L66"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.data.fields.list_field.ListField.sequence_length" title="Permalink to this definition">¶</a></dt>
<dd><p>How many elements are there in this sequence?</p>
</dd></dl>

</dd></dl>

<span class="target" id="module-allennlp.data.fields.metadata_field"><span id="metadata-field"></span></span><dl class="class">
<dt id="allennlp.data.fields.metadata_field.MetadataField">
<em class="property">class </em><code class="descclassname">allennlp.data.fields.metadata_field.</code><code class="descname">MetadataField</code><span class="sig-paren">(</span><em>metadata: typing.Any</em><span class="sig-paren">)</span> &#x2192; None<a class="reference external" href="http://github.com/allenai/allennlp/blob/master/allennlp/data/fields/metadata_field.py#L9-L50"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.data.fields.metadata_field.MetadataField" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#allennlp.data.fields.field.Field" title="allennlp.data.fields.field.Field"><code class="xref py py-class docutils literal"><span class="pre">allennlp.data.fields.field.Field</span></code></a></p>
<p>A <code class="docutils literal"><span class="pre">MetadataField</span></code> is a <code class="docutils literal"><span class="pre">Field</span></code> that does not get converted into arrays.  It just carries
side information that might be needed later on, for computing some third-party metric, or
outputting debugging information, or whatever else you need.  We use this in the BiDAF model,
for instance, to keep track of question IDs and passage token offsets, so we can more easily
use the official evaluation script to compute metrics.</p>
<p>We don&#8217;t try to do any kind of smart combination of this field for batched input - when you use
this <code class="docutils literal"><span class="pre">Field</span></code> in a model, you&#8217;ll get a list of metadata objects, one for each instance in the
batch.</p>
<p>Note that if you use this field, you are <cite>required</cite> to include <code class="docutils literal"><span class="pre">metadata</span></code> in the field name
used as a key in <code class="docutils literal"><span class="pre">Instance</span></code>.  Otherwise we won&#8217;t know to treat the output of this field
specially in <a class="reference internal" href="allennlp.nn.util.html#allennlp.nn.util.arrays_to_variables" title="allennlp.nn.util.arrays_to_variables"><code class="xref py py-func docutils literal"><span class="pre">arrays_to_variables()</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>metadata</strong> : <code class="docutils literal"><span class="pre">Any</span></code></p>
<blockquote class="last">
<div><p>Some object containing the metadata that you want to store.  It&#8217;s likely that you&#8217;ll want
this to be a dictionary, but it could be anything you want.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="allennlp.data.fields.metadata_field.MetadataField.as_array">
<code class="descname">as_array</code><span class="sig-paren">(</span><em>padding_lengths: typing.Dict[str, int]</em><span class="sig-paren">)</span> &#x2192; DataArray<a class="reference external" href="http://github.com/allenai/allennlp/blob/master/allennlp/data/fields/metadata_field.py#L38-L41"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.data.fields.metadata_field.MetadataField.as_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a set of specified padding lengths, actually pad the data in this field and return a
numpy array of the correct shape.  This actually returns a list instead of a single array,
in case there are several related arrays for this field (e.g., a <code class="docutils literal"><span class="pre">TextField</span></code> might have a
word array and a characters-per-word array).</p>
</dd></dl>

<dl class="classmethod">
<dt id="allennlp.data.fields.metadata_field.MetadataField.batch_arrays">
<em class="property">classmethod </em><code class="descname">batch_arrays</code><span class="sig-paren">(</span><em>array_list: typing.List[DataArray]</em><span class="sig-paren">)</span> &#x2192; DataArray<a class="reference external" href="http://github.com/allenai/allennlp/blob/master/allennlp/data/fields/metadata_field.py#L47-L50"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.data.fields.metadata_field.MetadataField.batch_arrays" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes the output of <code class="docutils literal"><span class="pre">Field.as_array()</span></code> from a list of <code class="docutils literal"><span class="pre">Instances</span></code> and merges it into
one batched array for this <code class="docutils literal"><span class="pre">Field</span></code>.  The default implementation here in the base class
handles cases where <code class="docutils literal"><span class="pre">as_array</span></code> returns a single numpy array per instance, or a dictionary
of single arrays.  If your subclass returns something other than this, you need to
override this method.</p>
</dd></dl>

<dl class="method">
<dt id="allennlp.data.fields.metadata_field.MetadataField.empty_field">
<code class="descname">empty_field</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; allennlp.data.fields.metadata_field.MetadataField<a class="reference external" href="http://github.com/allenai/allennlp/blob/master/allennlp/data/fields/metadata_field.py#L43-L45"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.data.fields.metadata_field.MetadataField.empty_field" title="Permalink to this definition">¶</a></dt>
<dd><p>So that <code class="docutils literal"><span class="pre">ListField</span></code> can pad the number of fields in a list (e.g., the number of answer
option <code class="docutils literal"><span class="pre">TextFields</span></code>), we need a representation of an empty field of each type.  This
returns that.  This will only ever be called when we&#8217;re to the point of calling
<a class="reference internal" href="#allennlp.data.fields.metadata_field.MetadataField.as_array" title="allennlp.data.fields.metadata_field.MetadataField.as_array"><code class="xref py py-func docutils literal"><span class="pre">as_array()</span></code></a>, so you don&#8217;t need to worry about <code class="docutils literal"><span class="pre">get_padding_lengths</span></code>,
<code class="docutils literal"><span class="pre">count_vocab_items</span></code>, etc., being called on this empty field.</p>
<p>We make this an instance method instead of a static method so that if there is any state
in the Field, we can copy it over (e.g., the token indexers in <code class="docutils literal"><span class="pre">TextField</span></code>).</p>
</dd></dl>

<dl class="method">
<dt id="allennlp.data.fields.metadata_field.MetadataField.get_padding_lengths">
<code class="descname">get_padding_lengths</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; typing.Dict[str, int]<a class="reference external" href="http://github.com/allenai/allennlp/blob/master/allennlp/data/fields/metadata_field.py#L34-L36"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.data.fields.metadata_field.MetadataField.get_padding_lengths" title="Permalink to this definition">¶</a></dt>
<dd><p>If there are things in this field that need padding, note them here.  In order to pad a
batch of instance, we get all of the lengths from the batch, take the max, and pad
everything to that length (or use a pre-specified maximum length).  The return value is a
dictionary mapping keys to lengths, like {&#8216;num_tokens&#8217;: 13}.</p>
<p>This is always called after <code class="xref py py-func docutils literal"><span class="pre">index()</span></code>.</p>
</dd></dl>

</dd></dl>

<span class="target" id="module-allennlp.data.fields.sequence_field"><span id="sequence-field"></span></span><dl class="class">
<dt id="allennlp.data.fields.sequence_field.SequenceField">
<em class="property">class </em><code class="descclassname">allennlp.data.fields.sequence_field.</code><code class="descname">SequenceField</code><a class="reference external" href="http://github.com/allenai/allennlp/blob/master/allennlp/data/fields/sequence_field.py#L4-L15"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.data.fields.sequence_field.SequenceField" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#allennlp.data.fields.field.Field" title="allennlp.data.fields.field.Field"><code class="xref py py-class docutils literal"><span class="pre">allennlp.data.fields.field.Field</span></code></a></p>
<p>A <code class="docutils literal"><span class="pre">SequenceField</span></code> represents a sequence of things.  This class just adds a method onto
<code class="docutils literal"><span class="pre">Field</span></code>: <a class="reference internal" href="#allennlp.data.fields.sequence_field.SequenceField.sequence_length" title="allennlp.data.fields.sequence_field.SequenceField.sequence_length"><code class="xref py py-func docutils literal"><span class="pre">sequence_length()</span></code></a>.  It exists so that <code class="docutils literal"><span class="pre">SequenceLabelField</span></code>, <code class="docutils literal"><span class="pre">IndexField</span></code> and other
similar <code class="docutils literal"><span class="pre">Fields</span></code> can have a single type to require, with a consistent API, whether they are
pointing to words in a <code class="docutils literal"><span class="pre">TextField</span></code>, items in a <code class="docutils literal"><span class="pre">ListField</span></code>, or something else.</p>
<dl class="method">
<dt id="allennlp.data.fields.sequence_field.SequenceField.sequence_length">
<code class="descname">sequence_length</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; int<a class="reference external" href="http://github.com/allenai/allennlp/blob/master/allennlp/data/fields/sequence_field.py#L11-L15"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.data.fields.sequence_field.SequenceField.sequence_length" title="Permalink to this definition">¶</a></dt>
<dd><p>How many elements are there in this sequence?</p>
</dd></dl>

</dd></dl>

<span class="target" id="module-allennlp.data.fields.sequence_label_field"><span id="sequence-label-field"></span></span><dl class="class">
<dt id="allennlp.data.fields.sequence_label_field.SequenceLabelField">
<em class="property">class </em><code class="descclassname">allennlp.data.fields.sequence_label_field.</code><code class="descname">SequenceLabelField</code><span class="sig-paren">(</span><em>labels: typing.Union[typing.List[str], typing.List[int]], sequence_field: allennlp.data.fields.sequence_field.SequenceField, label_namespace: str = 'labels'</em><span class="sig-paren">)</span> &#x2192; None<a class="reference external" href="http://github.com/allenai/allennlp/blob/master/allennlp/data/fields/sequence_label_field.py#L16-L104"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.data.fields.sequence_label_field.SequenceLabelField" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#allennlp.data.fields.field.Field" title="allennlp.data.fields.field.Field"><code class="xref py py-class docutils literal"><span class="pre">allennlp.data.fields.field.Field</span></code></a></p>
<p>A <code class="docutils literal"><span class="pre">SequenceLabelField</span></code> assigns a categorical label to each element in a
<a class="reference internal" href="#allennlp.data.fields.sequence_field.SequenceField" title="allennlp.data.fields.sequence_field.SequenceField"><code class="xref py py-class docutils literal"><span class="pre">SequenceField</span></code></a>.
Because it&#8217;s a labeling of some other field, we take that field as input here, and we use it to
determine our padding and other things.</p>
<p>This field will get converted into a list of integer class ids, representing the correct class
for each element in the sequence.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>labels</strong> : <code class="docutils literal"><span class="pre">Union[List[str],</span> <span class="pre">List[int]]</span></code></p>
<blockquote>
<div><p>A sequence of categorical labels, encoded as strings or integers.  These could be POS tags like [NN,
JJ, ...], BIO tags like [B-PERS, I-PERS, O, O, ...], or any other categorical tag sequence. If the
labels are encoded as integers, they will not be indexed using a vocab.</p>
</div></blockquote>
<p><strong>sequence_field</strong> : <code class="docutils literal"><span class="pre">SequenceField</span></code></p>
<blockquote>
<div><p>A field containing the sequence that this <code class="docutils literal"><span class="pre">SequenceLabelField</span></code> is labeling.  Most often, this is a
<code class="docutils literal"><span class="pre">TextField</span></code>, for tagging individual tokens in a sentence.</p>
</div></blockquote>
<p><strong>label_namespace</strong> : <code class="docutils literal"><span class="pre">str</span></code>, optional (default=&#8217;labels&#8217;)</p>
<blockquote class="last">
<div><p>The namespace to use for converting tag strings into integers.  We convert tag strings to
integers for you, and this parameter tells the <code class="docutils literal"><span class="pre">Vocabulary</span></code> object which mapping from
strings to integers to use (so that &#8220;O&#8221; as a tag doesn&#8217;t get the same id as &#8220;O&#8221; as a word).</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="allennlp.data.fields.sequence_label_field.SequenceLabelField.as_array">
<code class="descname">as_array</code><span class="sig-paren">(</span><em>padding_lengths: typing.Dict[str, int]</em><span class="sig-paren">)</span> &#x2192; numpy.ndarray<a class="reference external" href="http://github.com/allenai/allennlp/blob/master/allennlp/data/fields/sequence_label_field.py#L93-L97"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.data.fields.sequence_label_field.SequenceLabelField.as_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a set of specified padding lengths, actually pad the data in this field and return a
numpy array of the correct shape.  This actually returns a list instead of a single array,
in case there are several related arrays for this field (e.g., a <code class="docutils literal"><span class="pre">TextField</span></code> might have a
word array and a characters-per-word array).</p>
</dd></dl>

<dl class="method">
<dt id="allennlp.data.fields.sequence_label_field.SequenceLabelField.count_vocab_items">
<code class="descname">count_vocab_items</code><span class="sig-paren">(</span><em>counter: typing.Dict[str, typing.Dict[str, int]]</em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/allenai/allennlp/blob/master/allennlp/data/fields/sequence_label_field.py#L77-L81"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.data.fields.sequence_label_field.SequenceLabelField.count_vocab_items" title="Permalink to this definition">¶</a></dt>
<dd><p>If there are strings in this field that need to be converted into integers through a
<code class="xref py py-class docutils literal"><span class="pre">Vocabulary</span></code>, here is where we count them, to determine which tokens are in or out
of the vocabulary.</p>
<p>If your <code class="docutils literal"><span class="pre">Field</span></code> does not have any strings that need to be converted into indices, you do
not need to implement this method.</p>
<p>A note on this <code class="docutils literal"><span class="pre">counter</span></code>: because <code class="docutils literal"><span class="pre">Fields</span></code> can represent conceptually different things,
we separate the vocabulary items by <cite>namespaces</cite>.  This way, we can use a single shared
mechanism to handle all mappings from strings to integers in all fields, while keeping
words in a <code class="docutils literal"><span class="pre">TextField</span></code> from sharing the same ids with labels in a <code class="docutils literal"><span class="pre">LabelField</span></code> (e.g.,
&#8220;entailment&#8221; or &#8220;contradiction&#8221; are labels in an entailment task)</p>
<p>Additionally, a single <code class="docutils literal"><span class="pre">Field</span></code> might want to use multiple namespaces - <code class="docutils literal"><span class="pre">TextFields</span></code> can
be represented as a combination of word ids and character ids, and you don&#8217;t want words and
characters to share the same vocabulary - &#8220;a&#8221; as a word should get a different id from &#8220;a&#8221;
as a character, and the vocabulary sizes of words and characters are very different.</p>
<p>Because of this, the first key in the <code class="docutils literal"><span class="pre">counter</span></code> object is a <cite>namespace</cite>, like &#8220;tokens&#8221;,
&#8220;token_characters&#8221;, &#8220;tags&#8221;, or &#8220;labels&#8221;, and the second key is the actual vocabulary item.</p>
</dd></dl>

<dl class="method">
<dt id="allennlp.data.fields.sequence_label_field.SequenceLabelField.empty_field">
<code class="descname">empty_field</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="http://github.com/allenai/allennlp/blob/master/allennlp/data/fields/sequence_label_field.py#L99-L104"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.data.fields.sequence_label_field.SequenceLabelField.empty_field" title="Permalink to this definition">¶</a></dt>
<dd><p>So that <code class="docutils literal"><span class="pre">ListField</span></code> can pad the number of fields in a list (e.g., the number of answer
option <code class="docutils literal"><span class="pre">TextFields</span></code>), we need a representation of an empty field of each type.  This
returns that.  This will only ever be called when we&#8217;re to the point of calling
<a class="reference internal" href="#allennlp.data.fields.sequence_label_field.SequenceLabelField.as_array" title="allennlp.data.fields.sequence_label_field.SequenceLabelField.as_array"><code class="xref py py-func docutils literal"><span class="pre">as_array()</span></code></a>, so you don&#8217;t need to worry about <code class="docutils literal"><span class="pre">get_padding_lengths</span></code>,
<code class="docutils literal"><span class="pre">count_vocab_items</span></code>, etc., being called on this empty field.</p>
<p>We make this an instance method instead of a static method so that if there is any state
in the Field, we can copy it over (e.g., the token indexers in <code class="docutils literal"><span class="pre">TextField</span></code>).</p>
</dd></dl>

<dl class="method">
<dt id="allennlp.data.fields.sequence_label_field.SequenceLabelField.get_padding_lengths">
<code class="descname">get_padding_lengths</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; typing.Dict[str, int]<a class="reference external" href="http://github.com/allenai/allennlp/blob/master/allennlp/data/fields/sequence_label_field.py#L89-L91"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.data.fields.sequence_label_field.SequenceLabelField.get_padding_lengths" title="Permalink to this definition">¶</a></dt>
<dd><p>If there are things in this field that need padding, note them here.  In order to pad a
batch of instance, we get all of the lengths from the batch, take the max, and pad
everything to that length (or use a pre-specified maximum length).  The return value is a
dictionary mapping keys to lengths, like {&#8216;num_tokens&#8217;: 13}.</p>
<p>This is always called after <a class="reference internal" href="#allennlp.data.fields.sequence_label_field.SequenceLabelField.index" title="allennlp.data.fields.sequence_label_field.SequenceLabelField.index"><code class="xref py py-func docutils literal"><span class="pre">index()</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="allennlp.data.fields.sequence_label_field.SequenceLabelField.index">
<code class="descname">index</code><span class="sig-paren">(</span><em>vocab: allennlp.data.vocabulary.Vocabulary</em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/allenai/allennlp/blob/master/allennlp/data/fields/sequence_label_field.py#L83-L87"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.data.fields.sequence_label_field.SequenceLabelField.index" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a <code class="xref py py-class docutils literal"><span class="pre">Vocabulary</span></code>, converts all strings in this field into (typically) integers.
This <cite>modifies</cite> the <code class="docutils literal"><span class="pre">Field</span></code> object, it does not return anything.</p>
<p>If your <code class="docutils literal"><span class="pre">Field</span></code> does not have any strings that need to be converted into indices, you do
not need to implement this method.</p>
</dd></dl>

</dd></dl>

<span class="target" id="module-allennlp.data.fields.text_field"><span id="text-field"></span></span><p>A <code class="docutils literal"><span class="pre">TextField</span></code> represents a string of text, the kind that you might want to represent with
standard word vectors, or pass through an LSTM.</p>
<dl class="class">
<dt id="allennlp.data.fields.text_field.TextField">
<em class="property">class </em><code class="descclassname">allennlp.data.fields.text_field.</code><code class="descname">TextField</code><span class="sig-paren">(</span><em>tokens: typing.List[allennlp.data.tokenizers.token.Token], token_indexers: typing.Dict[str, allennlp.data.token_indexers.token_indexer.TokenIndexer]</em><span class="sig-paren">)</span> &#x2192; None<a class="reference external" href="http://github.com/allenai/allennlp/blob/master/allennlp/data/fields/text_field.py#L20-L112"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.data.fields.text_field.TextField" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#allennlp.data.fields.sequence_field.SequenceField" title="allennlp.data.fields.sequence_field.SequenceField"><code class="xref py py-class docutils literal"><span class="pre">allennlp.data.fields.sequence_field.SequenceField</span></code></a></p>
<p>This <code class="docutils literal"><span class="pre">Field</span></code> represents a list of string tokens.  Before constructing this object, you need
to tokenize raw strings using a <a class="reference internal" href="allennlp.data.tokenizers.html#allennlp.data.tokenizers.tokenizer.Tokenizer" title="allennlp.data.tokenizers.tokenizer.Tokenizer"><code class="xref py py-class docutils literal"><span class="pre">Tokenizer</span></code></a>.</p>
<p>Because string tokens can be represented as indexed arrays in a number of ways, we also take a
dictionary of <a class="reference internal" href="allennlp.data.token_indexers.html#allennlp.data.token_indexers.token_indexer.TokenIndexer" title="allennlp.data.token_indexers.token_indexer.TokenIndexer"><code class="xref py py-class docutils literal"><span class="pre">TokenIndexer</span></code></a>
objects that will be used to convert the tokens into indices.
Each <code class="docutils literal"><span class="pre">TokenIndexer</span></code> could represent each token as a single ID, or a list of character IDs, or
something else.</p>
<p>This field will get converted into a dictionary of arrays, one for each <code class="docutils literal"><span class="pre">TokenIndexer</span></code>.  A
<code class="docutils literal"><span class="pre">SingleIdTokenIndexer</span></code> produces an array of shape (num_tokens,), while a
<code class="docutils literal"><span class="pre">TokenCharactersIndexer</span></code> produces an array of shape (num_tokens, num_characters).</p>
<dl class="method">
<dt id="allennlp.data.fields.text_field.TextField.as_array">
<code class="descname">as_array</code><span class="sig-paren">(</span><em>padding_lengths: typing.Dict[str, int]</em><span class="sig-paren">)</span> &#x2192; typing.Dict[str, numpy.ndarray]<a class="reference external" href="http://github.com/allenai/allennlp/blob/master/allennlp/data/fields/text_field.py#L93-L103"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.data.fields.text_field.TextField.as_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a set of specified padding lengths, actually pad the data in this field and return a
numpy array of the correct shape.  This actually returns a list instead of a single array,
in case there are several related arrays for this field (e.g., a <code class="docutils literal"><span class="pre">TextField</span></code> might have a
word array and a characters-per-word array).</p>
</dd></dl>

<dl class="method">
<dt id="allennlp.data.fields.text_field.TextField.count_vocab_items">
<code class="descname">count_vocab_items</code><span class="sig-paren">(</span><em>counter: typing.Dict[str, typing.Dict[str, int]]</em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/allenai/allennlp/blob/master/allennlp/data/fields/text_field.py#L44-L48"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.data.fields.text_field.TextField.count_vocab_items" title="Permalink to this definition">¶</a></dt>
<dd><p>If there are strings in this field that need to be converted into integers through a
<code class="xref py py-class docutils literal"><span class="pre">Vocabulary</span></code>, here is where we count them, to determine which tokens are in or out
of the vocabulary.</p>
<p>If your <code class="docutils literal"><span class="pre">Field</span></code> does not have any strings that need to be converted into indices, you do
not need to implement this method.</p>
<p>A note on this <code class="docutils literal"><span class="pre">counter</span></code>: because <code class="docutils literal"><span class="pre">Fields</span></code> can represent conceptually different things,
we separate the vocabulary items by <cite>namespaces</cite>.  This way, we can use a single shared
mechanism to handle all mappings from strings to integers in all fields, while keeping
words in a <code class="docutils literal"><span class="pre">TextField</span></code> from sharing the same ids with labels in a <code class="docutils literal"><span class="pre">LabelField</span></code> (e.g.,
&#8220;entailment&#8221; or &#8220;contradiction&#8221; are labels in an entailment task)</p>
<p>Additionally, a single <code class="docutils literal"><span class="pre">Field</span></code> might want to use multiple namespaces - <code class="docutils literal"><span class="pre">TextFields</span></code> can
be represented as a combination of word ids and character ids, and you don&#8217;t want words and
characters to share the same vocabulary - &#8220;a&#8221; as a word should get a different id from &#8220;a&#8221;
as a character, and the vocabulary sizes of words and characters are very different.</p>
<p>Because of this, the first key in the <code class="docutils literal"><span class="pre">counter</span></code> object is a <cite>namespace</cite>, like &#8220;tokens&#8221;,
&#8220;token_characters&#8221;, &#8220;tags&#8221;, or &#8220;labels&#8221;, and the second key is the actual vocabulary item.</p>
</dd></dl>

<dl class="method">
<dt id="allennlp.data.fields.text_field.TextField.empty_field">
<code class="descname">empty_field</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="http://github.com/allenai/allennlp/blob/master/allennlp/data/fields/text_field.py#L105-L112"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.data.fields.text_field.TextField.empty_field" title="Permalink to this definition">¶</a></dt>
<dd><p>So that <code class="docutils literal"><span class="pre">ListField</span></code> can pad the number of fields in a list (e.g., the number of answer
option <code class="docutils literal"><span class="pre">TextFields</span></code>), we need a representation of an empty field of each type.  This
returns that.  This will only ever be called when we&#8217;re to the point of calling
<a class="reference internal" href="#allennlp.data.fields.text_field.TextField.as_array" title="allennlp.data.fields.text_field.TextField.as_array"><code class="xref py py-func docutils literal"><span class="pre">as_array()</span></code></a>, so you don&#8217;t need to worry about <code class="docutils literal"><span class="pre">get_padding_lengths</span></code>,
<code class="docutils literal"><span class="pre">count_vocab_items</span></code>, etc., being called on this empty field.</p>
<p>We make this an instance method instead of a static method so that if there is any state
in the Field, we can copy it over (e.g., the token indexers in <code class="docutils literal"><span class="pre">TextField</span></code>).</p>
</dd></dl>

<dl class="method">
<dt id="allennlp.data.fields.text_field.TextField.get_padding_lengths">
<code class="descname">get_padding_lengths</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; typing.Dict[str, int]<a class="reference external" href="http://github.com/allenai/allennlp/blob/master/allennlp/data/fields/text_field.py#L58-L87"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.data.fields.text_field.TextField.get_padding_lengths" title="Permalink to this definition">¶</a></dt>
<dd><p>If there are things in this field that need padding, note them here.  In order to pad a
batch of instance, we get all of the lengths from the batch, take the max, and pad
everything to that length (or use a pre-specified maximum length).  The return value is a
dictionary mapping keys to lengths, like {&#8216;num_tokens&#8217;: 13}.</p>
<p>This is always called after <a class="reference internal" href="#allennlp.data.fields.text_field.TextField.index" title="allennlp.data.fields.text_field.TextField.index"><code class="xref py py-func docutils literal"><span class="pre">index()</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="allennlp.data.fields.text_field.TextField.index">
<code class="descname">index</code><span class="sig-paren">(</span><em>vocab: allennlp.data.vocabulary.Vocabulary</em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/allenai/allennlp/blob/master/allennlp/data/fields/text_field.py#L50-L56"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.data.fields.text_field.TextField.index" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a <code class="xref py py-class docutils literal"><span class="pre">Vocabulary</span></code>, converts all strings in this field into (typically) integers.
This <cite>modifies</cite> the <code class="docutils literal"><span class="pre">Field</span></code> object, it does not return anything.</p>
<p>If your <code class="docutils literal"><span class="pre">Field</span></code> does not have any strings that need to be converted into indices, you do
not need to implement this method.</p>
</dd></dl>

<dl class="method">
<dt id="allennlp.data.fields.text_field.TextField.sequence_length">
<code class="descname">sequence_length</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; int<a class="reference external" href="http://github.com/allenai/allennlp/blob/master/allennlp/data/fields/text_field.py#L89-L91"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.data.fields.text_field.TextField.sequence_length" title="Permalink to this definition">¶</a></dt>
<dd><p>How many elements are there in this sequence?</p>
</dd></dl>

</dd></dl>

</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="allennlp.data.instance.html" class="btn btn-neutral float-right" title="allennlp.data.instance" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="allennlp.data.dataset_readers.snli.html" class="btn btn-neutral" title="allennlp.data.dataset_readers.snli" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Allen Institute for Artificial Intelligence.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>


</body>
</html>