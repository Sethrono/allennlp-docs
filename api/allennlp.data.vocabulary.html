

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>allennlp.data.vocabulary &mdash; AllenNLP 0.2.2 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="AllenNLP 0.2.2 documentation" href="../index.html"/>
        <link rel="up" title="allennlp.data" href="allennlp.data.html"/>
        <link rel="next" title="allennlp.models" href="allennlp.models.html"/>
        <link rel="prev" title="allennlp.data.tokenizers" href="allennlp.data.tokenizers.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/allennlp-logo-dark.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                0.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Package Reference</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="allennlp.commands.html">allennlp.commands</a><ul>
<li class="toctree-l2"><a class="reference internal" href="allennlp.commands.subcommand.html">allennlp.commands.subcommand</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.commands.evaluate.html">allennlp.commands.evaluate</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.commands.predict.html">allennlp.commands.predict</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.commands.serve.html">allennlp.commands.serve</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.commands.train.html">allennlp.commands.train</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="allennlp.common.html">allennlp.common</a><ul>
<li class="toctree-l2"><a class="reference internal" href="allennlp.common.checks.html">allennlp.common.checks</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.common.file_utils.html">allennlp.common.file_utils</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.common.params.html">allennlp.common.params</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.common.registrable.html">allennlp.common.registrable</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.common.squad_eval.html">allennlp.common.squad_eval</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.common.tee_logger.html">allennlp.common.tee_logger</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.common.testing.html">allennlp.common.testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.common.util.html">allennlp.common.util</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="allennlp.data.html">allennlp.data</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="allennlp.data.dataset.html">allennlp.data.dataset</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.data.dataset_readers.html">allennlp.data.dataset_readers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.dataset_reader.html">allennlp.data.dataset_readers.dataset_reader</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.conll2003.html">allennlp.data.dataset_readers.conll2003</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.language_modeling.html">allennlp.data.dataset_readers.language_modeling</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.reading_comprehension.html">allennlp.data.dataset_readers.reading_comprehension</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.coreference_resolution.html">allennlp.data.dataset_readers.coreference_resolution</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.semantic_role_labeling.html">allennlp.data.dataset_readers.semantic_role_labeling</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.seq2seq.html">allennlp.data.dataset_readers.seq2seq</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.sequence_tagging.html">allennlp.data.dataset_readers.sequence_tagging</a></li>
<li class="toctree-l3"><a class="reference internal" href="allennlp.data.dataset_readers.snli.html">allennlp.data.dataset_readers.snli</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.data.fields.html">allennlp.data.fields</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.data.instance.html">allennlp.data.instance</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.data.iterators.html">allennlp.data.iterators</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.data.token_indexers.html">allennlp.data.token_indexers</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.data.tokenizers.html">allennlp.data.tokenizers</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">allennlp.data.vocabulary</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="allennlp.models.html">allennlp.models</a><ul>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.model.html">allennlp.models.model</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.archival.html">allennlp.models.archival</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.crf_tagger.html">allennlp.models.crf_tagger</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.decomposable_attention.html">allennlp.models.decomposable_attention</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.encoder_decoders.html">allennlp.models.encoder_decoders</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.reading_comprehension.html">allennlp.models.reading_comprehension</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.coreference_resolution.html">allennlp.models.coreference_resolution</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.semantic_role_labeler.html">allennlp.models.semantic_role_labeler</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.models.simple_tagger.html">allennlp.models.simple_tagger</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="allennlp.modules.html">allennlp.modules</a><ul>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.attention.html">allennlp.modules.attention</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.augmented_lstm.html">allennlp.modules.augmented_lstm</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.lstm_cell_with_projection.html">allennlp.modules.lstm_cell_with_projection</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.elmo_lstm.html">allennlp.modules.elmo_lstm</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.conditional_random_field.html">allennlp.modules.conditional_random_field</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.feedforward.html">allennlp.modules.feedforward</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.highway.html">allennlp.modules.highway</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.matrix_attention.html">allennlp.modules.matrix_attention</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.seq2seq_encoders.html">allennlp.modules.seq2seq_encoders</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.seq2vec_encoders.html">allennlp.modules.seq2vec_encoders</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.similarity_functions.html">allennlp.modules.similarity_functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.stacked_alternating_lstm.html">allennlp.modules.stacked_alternating_lstm</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.text_field_embedders.html">allennlp.modules.text_field_embedders</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.time_distributed.html">allennlp.modules.time_distributed</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.token_embedders.html">allennlp.modules.token_embedders</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.modules.scalar_mix.html">allennlp.modules.scalar_mix</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="allennlp.nn.html">allennlp.nn</a><ul>
<li class="toctree-l2"><a class="reference internal" href="allennlp.nn.activations.html">allennlp.nn.activations</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.nn.initializers.html">allennlp.nn.initializers</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.nn.regularizers.html">allennlp.nn.regularizers</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.nn.util.html">allennlp.nn.util</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="allennlp.service.html">allennlp.service</a><ul>
<li class="toctree-l2"><a class="reference internal" href="allennlp.service.db.html">allennlp.service.db</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.service.permalinks.html">allennlp.service.permalinks</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.service.predictors.html">allennlp.service.predictors</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.service.server_sanic.html">allennlp.service.server_sanic</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="allennlp.training.html">allennlp.training</a><ul>
<li class="toctree-l2"><a class="reference internal" href="allennlp.training.learning_rate_schedulers.html">allennlp.training.learning_rate_schedulers</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.training.metrics.html">allennlp.training.metrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.training.optimizers.html">allennlp.training.optimizers</a></li>
<li class="toctree-l2"><a class="reference internal" href="allennlp.training.trainer.html">allennlp.training.trainer</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">AllenNLP</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="allennlp.data.html">allennlp.data</a> &raquo;</li>
        
      <li>allennlp.data.vocabulary</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/api/allennlp.data.vocabulary.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-allennlp.data.vocabulary">
<span id="allennlp-data-vocabulary"></span><h1>allennlp.data.vocabulary<a class="headerlink" href="#module-allennlp.data.vocabulary" title="Permalink to this headline">¶</a></h1>
<p>A Vocabulary maps strings to integers, allowing for strings to be mapped to an
out-of-vocabulary token.</p>
<dl class="class">
<dt id="allennlp.data.vocabulary.Vocabulary">
<em class="property">class </em><code class="descclassname">allennlp.data.vocabulary.</code><code class="descname">Vocabulary</code><span class="sig-paren">(</span><em>counter: typing.Dict[str, typing.Dict[str, int]] = None, min_count: int = 1, max_vocab_size: typing.Union[int, typing.Dict[str, int]] = None, non_padded_namespaces: typing.Sequence[str] = ('*tags', '*labels'), pretrained_files: typing.Union[typing.Dict[str, str], NoneType] = None, only_include_pretrained_words: bool = False</em><span class="sig-paren">)</span> &#x2192; None<a class="reference external" href="http://github.com/allenai/allennlp/blob/master/allennlp/data/vocabulary.py#L102-L409"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.data.vocabulary.Vocabulary" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>A Vocabulary maps strings to integers, allowing for strings to be mapped to an
out-of-vocabulary token.</p>
<p>Vocabularies are fit to a particular dataset, which we use to decide which tokens are
in-vocabulary.</p>
<p>Vocabularies also allow for several different namespaces, so you can have separate indices for
&#8216;a&#8217; as a word, and &#8216;a&#8217; as a character, for instance, and so we can use this object to also map
tag and label strings to indices, for a unified <a class="reference internal" href="allennlp.data.fields.html#allennlp.data.fields.field.Field" title="allennlp.data.fields.field.Field"><code class="xref py py-class docutils literal"><span class="pre">Field</span></code></a> API.  Most of the
methods on this class allow you to pass in a namespace; by default we use the &#8216;tokens&#8217;
namespace, and you can omit the namespace argument everywhere and just use the default.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>counter</strong> : <code class="docutils literal"><span class="pre">Dict[str,</span> <span class="pre">Dict[str,</span> <span class="pre">int]]</span></code>, optional (default=``None``)</p>
<blockquote>
<div><p>A collection of counts from which to initialize this vocabulary.  We will examine the
counts and, together with the other parameters to this class, use them to decide which
words are in-vocabulary.  If this is <code class="docutils literal"><span class="pre">None</span></code>, we just won&#8217;t initialize the vocabulary with
anything.</p>
</div></blockquote>
<p><strong>min_count</strong> : <code class="docutils literal"><span class="pre">int</span></code>, optional (default=``1``)</p>
<blockquote>
<div><p>When initializing the vocab from a counter, you can specify a minimum count, and every
token with a count less than this will not be added to the dictionary.  The default of
<code class="docutils literal"><span class="pre">1</span></code> means that every word ever seen will be added.</p>
</div></blockquote>
<p><strong>max_vocab_size</strong> : <code class="docutils literal"><span class="pre">Union[int,</span> <span class="pre">Dict[str,</span> <span class="pre">int]]</span></code>, optional (default=``None``)</p>
<blockquote>
<div><p>If you want to cap the number of tokens in your vocabulary, you can do so with this
parameter.  If you specify a single integer, every namespace will have its vocabulary fixed
to be no larger than this.  If you specify a dictionary, then each namespace in the
<code class="docutils literal"><span class="pre">counter</span></code> can have a separate maximum vocabulary size.  Any missing key will have a value
of <code class="docutils literal"><span class="pre">None</span></code>, which means no cap on the vocabulary size.</p>
</div></blockquote>
<p><strong>non_padded_namespaces</strong> : <code class="docutils literal"><span class="pre">Sequence[str]</span></code>, optional</p>
<blockquote>
<div><p>By default, we assume you are mapping word / character tokens to integers, and so you want
to reserve word indices for padding and out-of-vocabulary tokens.  However, if you are
mapping NER or SRL tags, or class labels, to integers, you probably do not want to reserve
indices for padding and out-of-vocabulary tokens.  Use this field to specify which
namespaces should <cite>not</cite> have padding and OOV tokens added.</p>
<p>The format of each element of this is either a string, which must match field names
exactly,  or <code class="docutils literal"><span class="pre">*</span></code> followed by a string, which we match as a suffix against field names.</p>
<p>We try to make the default here reasonable, so that you don&#8217;t have to think about this.
The default is <code class="docutils literal"><span class="pre">(&quot;*tags&quot;,</span> <span class="pre">&quot;*labels&quot;)</span></code>, so as long as your namespace ends in &#8220;tags&#8221; or
&#8220;labels&#8221; (which is true by default for all tag and label fields in this code), you don&#8217;t
have to specify anything here.</p>
</div></blockquote>
<p><strong>pretrained_files</strong> : <code class="docutils literal"><span class="pre">Dict[str,</span> <span class="pre">str]</span></code>, optional</p>
<blockquote>
<div><p>If provided, this map specifies the path to optional pretrained embedding files for each
namespace. This can be used to either restrict the vocabulary to only words which appear
in this file, or to ensure that any words in this file are included in the vocabulary
regardless of their count, depending on the value of <code class="docutils literal"><span class="pre">only_include_pretrained_words</span></code>.
Words which appear in the pretrained embedding file but not in the data are NOT included
in the Vocabulary.</p>
</div></blockquote>
<p><strong>only_include_pretrained_words</strong> : bool, optional (default = False)</p>
<blockquote class="last">
<div><p>This defines the stategy for using any pretrained embedding files which may have been
specified in <code class="docutils literal"><span class="pre">pretrained_files</span></code>. If False, an inclusive stategy is used: and words
which are in the <code class="docutils literal"><span class="pre">counter</span></code> and in the pretrained file are added to the <code class="docutils literal"><span class="pre">Vocabulary</span></code>,
regardless of whether their count exceeds <code class="docutils literal"><span class="pre">min_count</span></code> or not. If True, we use an
exclusive strategy: words are only included in the Vocabulary if they are in the pretrained
embedding file (their count must still be at least <code class="docutils literal"><span class="pre">min_count</span></code>).</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="allennlp.data.vocabulary.Vocabulary.add_token_to_namespace">
<code class="descname">add_token_to_namespace</code><span class="sig-paren">(</span><em>token: str</em>, <em>namespace: str = 'tokens'</em><span class="sig-paren">)</span> &#x2192; int<a class="reference external" href="http://github.com/allenai/allennlp/blob/master/allennlp/data/vocabulary.py#L380-L394"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.data.vocabulary.Vocabulary.add_token_to_namespace" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds <code class="docutils literal"><span class="pre">token</span></code> to the index, if it is not already present.  Either way, we return the index of
the token.</p>
</dd></dl>

<dl class="classmethod">
<dt id="allennlp.data.vocabulary.Vocabulary.from_dataset">
<em class="property">classmethod </em><code class="descname">from_dataset</code><span class="sig-paren">(</span><em>dataset, min_count: int = 1, max_vocab_size: typing.Union[int, typing.Dict[str, int]] = None, non_padded_namespaces: typing.Sequence[str] = ('*tags', '*labels'), pretrained_files: typing.Union[typing.Dict[str, str], NoneType] = None, only_include_pretrained_words: bool = False</em><span class="sig-paren">)</span> &#x2192; allennlp.data.vocabulary.Vocabulary<a class="reference external" href="http://github.com/allenai/allennlp/blob/master/allennlp/data/vocabulary.py#L311-L334"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.data.vocabulary.Vocabulary.from_dataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructs a vocabulary given a <a class="reference internal" href="allennlp.data.dataset.html#allennlp.data.dataset.Dataset" title="allennlp.data.dataset.Dataset"><code class="xref py py-class docutils literal"><span class="pre">Dataset</span></code></a> and some parameters.  We count all of the
vocabulary items in the dataset, then pass those counts, and the other parameters, to
<code class="xref py py-func docutils literal"><span class="pre">__init__()</span></code>.  See that method for a description of what the other parameters do.</p>
</dd></dl>

<dl class="classmethod">
<dt id="allennlp.data.vocabulary.Vocabulary.from_files">
<em class="property">classmethod </em><code class="descname">from_files</code><span class="sig-paren">(</span><em>directory: str</em><span class="sig-paren">)</span> &#x2192; allennlp.data.vocabulary.Vocabulary<a class="reference external" href="http://github.com/allenai/allennlp/blob/master/allennlp/data/vocabulary.py#L229-L257"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.data.vocabulary.Vocabulary.from_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads a <code class="docutils literal"><span class="pre">Vocabulary</span></code> that was serialized using <code class="docutils literal"><span class="pre">save_to_files</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>directory</strong> : <code class="docutils literal"><span class="pre">str</span></code></p>
<blockquote class="last">
<div><p>The directory containing the serialized vocabulary.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="allennlp.data.vocabulary.Vocabulary.from_params">
<em class="property">classmethod </em><code class="descname">from_params</code><span class="sig-paren">(</span><em>params: allennlp.common.params.Params</em>, <em>dataset=None</em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/allenai/allennlp/blob/master/allennlp/data/vocabulary.py#L336-L378"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.data.vocabulary.Vocabulary.from_params" title="Permalink to this definition">¶</a></dt>
<dd><p>There are two possible ways to build a vocabulary; from a
pre-existing dataset, using <a class="reference internal" href="#allennlp.data.vocabulary.Vocabulary.from_dataset" title="allennlp.data.vocabulary.Vocabulary.from_dataset"><code class="xref py py-func docutils literal"><span class="pre">Vocabulary.from_dataset()</span></code></a>, or
from a pre-saved vocabulary, using <a class="reference internal" href="#allennlp.data.vocabulary.Vocabulary.from_files" title="allennlp.data.vocabulary.Vocabulary.from_files"><code class="xref py py-func docutils literal"><span class="pre">Vocabulary.from_files()</span></code></a>.
This method wraps both of these options, allowing their specification
from a <code class="docutils literal"><span class="pre">Params</span></code> object, generated from a JSON configuration file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>params: Params, required.</strong></p>
<p><strong>dataset: Dataset, optional.</strong></p>
<blockquote>
<div><p>If <code class="docutils literal"><span class="pre">params</span></code> doesn&#8217;t contain a <code class="docutils literal"><span class="pre">vocabulary_directory</span></code> key,
the <code class="docutils literal"><span class="pre">Vocabulary</span></code> can be built directly from a <code class="docutils literal"><span class="pre">Dataset</span></code>.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A <code class="docutils literal"><span class="pre">Vocabulary</span></code>.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allennlp.data.vocabulary.Vocabulary.get_index_to_token_vocabulary">
<code class="descname">get_index_to_token_vocabulary</code><span class="sig-paren">(</span><em>namespace: str = 'tokens'</em><span class="sig-paren">)</span> &#x2192; typing.Dict[int, str]<a class="reference external" href="http://github.com/allenai/allennlp/blob/master/allennlp/data/vocabulary.py#L396-L397"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.data.vocabulary.Vocabulary.get_index_to_token_vocabulary" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="allennlp.data.vocabulary.Vocabulary.get_token_from_index">
<code class="descname">get_token_from_index</code><span class="sig-paren">(</span><em>index: int</em>, <em>namespace: str = 'tokens'</em><span class="sig-paren">)</span> &#x2192; str<a class="reference external" href="http://github.com/allenai/allennlp/blob/master/allennlp/data/vocabulary.py#L405-L406"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.data.vocabulary.Vocabulary.get_token_from_index" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="allennlp.data.vocabulary.Vocabulary.get_token_index">
<code class="descname">get_token_index</code><span class="sig-paren">(</span><em>token: str</em>, <em>namespace: str = 'tokens'</em><span class="sig-paren">)</span> &#x2192; int<a class="reference external" href="http://github.com/allenai/allennlp/blob/master/allennlp/data/vocabulary.py#L399-L403"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.data.vocabulary.Vocabulary.get_token_index" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="allennlp.data.vocabulary.Vocabulary.get_vocab_size">
<code class="descname">get_vocab_size</code><span class="sig-paren">(</span><em>namespace: str = 'tokens'</em><span class="sig-paren">)</span> &#x2192; int<a class="reference external" href="http://github.com/allenai/allennlp/blob/master/allennlp/data/vocabulary.py#L408-L409"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.data.vocabulary.Vocabulary.get_vocab_size" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="allennlp.data.vocabulary.Vocabulary.save_to_files">
<code class="descname">save_to_files</code><span class="sig-paren">(</span><em>directory: str</em><span class="sig-paren">)</span> &#x2192; None<a class="reference external" href="http://github.com/allenai/allennlp/blob/master/allennlp/data/vocabulary.py#L203-L227"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.data.vocabulary.Vocabulary.save_to_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Persist this Vocabulary to files so it can be reloaded later.
Each namespace corresponds to one file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>directory</strong> : <code class="docutils literal"><span class="pre">str</span></code></p>
<blockquote class="last">
<div><p>The directory where we save the serialized vocabulary.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allennlp.data.vocabulary.Vocabulary.set_from_file">
<code class="descname">set_from_file</code><span class="sig-paren">(</span><em>filename: str</em>, <em>is_padded: bool = True</em>, <em>oov_token: str = '&#64;&#64;UNKNOWN&#64;&#64;'</em>, <em>namespace: str = 'tokens'</em><span class="sig-paren">)</span><a class="reference external" href="http://github.com/allenai/allennlp/blob/master/allennlp/data/vocabulary.py#L259-L309"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allennlp.data.vocabulary.Vocabulary.set_from_file" title="Permalink to this definition">¶</a></dt>
<dd><p>If you already have a vocabulary file for a trained model somewhere, and you really want to
use that vocabulary file instead of just setting the vocabulary from a dataset, for
whatever reason, you can do that with this method.  You must specify the namespace to use,
and we assume that you want to use padding and OOV tokens for this.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>filename</strong> : <code class="docutils literal"><span class="pre">str</span></code></p>
<blockquote>
<div><p>The file containing the vocabulary to load.  It should be formatted as one token per
line, with nothing else in the line.  The index we assign to the token is the line
number in the file (1-indexed if <code class="docutils literal"><span class="pre">is_padded</span></code>, 0-indexed otherwise).  Note that this
file should contain the OOV token string!</p>
</div></blockquote>
<p><strong>is_padded</strong> : <code class="docutils literal"><span class="pre">bool</span></code>, optional (default=True)</p>
<blockquote>
<div><p>Is this vocabulary padded?  For token / word / character vocabularies, this should be
<code class="docutils literal"><span class="pre">True</span></code>; while for tag or label vocabularies, this should typically be <code class="docutils literal"><span class="pre">False</span></code>.  If
<code class="docutils literal"><span class="pre">True</span></code>, we add a padding token with index 0, and we enforce that the <code class="docutils literal"><span class="pre">oov_token</span></code> is
present in the file.</p>
</div></blockquote>
<p><strong>oov_token</strong> : <code class="docutils literal"><span class="pre">str</span></code>, optional (default=DEFAULT_OOV_TOKEN)</p>
<blockquote>
<div><p>What token does this vocabulary use to represent out-of-vocabulary characters?  This
must show up as a line in the vocabulary file.  When we find it, we replace
<code class="docutils literal"><span class="pre">oov_token</span></code> with <code class="docutils literal"><span class="pre">self._oov_token</span></code>, because we only use one OOV token across
namespaces.</p>
</div></blockquote>
<p><strong>namespace</strong> : <code class="docutils literal"><span class="pre">str</span></code>, optional (default=&#8221;tokens&#8221;)</p>
<blockquote class="last">
<div><p>What namespace should we overwrite with this vocab file?</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="allennlp.models.html" class="btn btn-neutral float-right" title="allennlp.models" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="allennlp.data.tokenizers.html" class="btn btn-neutral" title="allennlp.data.tokenizers" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Allen Institute for Artificial Intelligence.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.2.2',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>


</body>
</html>